!function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},l=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),p=o(1),u=r(p),c=function(e){function t(e){n(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o._imageOnload=o._imageOnload.bind(o),o._imageOnerror=o._imageOnerror.bind(o),o.state={src:"",placeholderHidden:!o.props.placeholder,sizing:o.props.sizing?o.props.sizing:null,position:o.props.position?o.props.position:"center",proportion:0,loaded:!1,loading:!1,error:!1},o}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this._load(),this._computeDimensions(),this._computeProportion(this.props.aspect)}},{key:"_computeDimensions",value:function(){var e=this.props,t=e.width,o=e.height;this.setState({width:isNaN(t)?t:t+"px",height:isNaN(o)?o:o+"px"})}},{key:"_computeProportion",value:function(e){if(e&&e.indexOf(":")>-1){var t=e.split(":").map(function(e){return parseFloat(e)});isNaN(t[0])||isNaN(t[1])||this.setState(function(e){if(!isNaN(parseFloat(e.width)))return{proportion:(parseFloat(e.width)*(t[1]/t[0])).toString()+e.width.substring(parseFloat(e.width).toString().length),height:"auto"}})}}},{key:"render",value:function(){var e=this.state,t=e.width,o=e.height,r=e.proportion,n=e.src,i=e.sizing,a=e.position,s=e.loading,l=e.loaded,p=e.placeholderHidden,c=this.props,d=c.preload,f=c.fade,h=c.placeholderSizing,g=c.placeholder,m=c.alt;return u.default.createElement("div",{className:"ProportionalImage",style:{width:t,height:o,paddingTop:r}},u.default.createElement("div",{className:"sizedImgDiv",role:"img",style:{backgroundImage:"url("+n+")",backgroundSize:i,backgroundPosition:a,backgroundRepeat:i&&"no-repeat",display:i?"block":"none"}}),u.default.createElement("img",{src:n,alt:m,onLoad:this._imageOnload,onError:this._imageOnerror,style:{display:i?"none":"block"}}),u.default.createElement("div",{style:{backgroundImage:"url("+(!!g&&g)+")",backgroundSize:h?h:i,backgroundPosition:a,backgroundRepeat:i&&"no-repeat"},className:"imagePlaceholder "+(p&&"hidden")+" "+(d&&f&&!s&&l&&"faded-out")}))}},{key:"_imageOnload",value:function(){this.setState({loading:!1,loaded:!0,error:!1})}},{key:"_imageOnerror",value:function(){this.setState(s({},this._reset(),{error:!0}))}},{key:"_reset",value:function(){return{src:"",loading:!1,loaded:!1,error:!1}}},{key:"_load",value:function(){var e=this._reset();if(!this.props.preventLoad){var t=this.props.src;e.src!=t&&(e=s({},e,{src:!!t&&t,loading:!!t}))}this.setState(e)}}]),t}(u.default.Component);t.default=c},function(e,t){e.exports=React}]);
//# sourceMappingURL=ProportionalImage.bundle.js.map